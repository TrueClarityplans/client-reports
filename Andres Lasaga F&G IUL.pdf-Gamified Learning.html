
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F&G Pathsetter® Life Insurance Explorable Explanation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <div class="min-h-screen">
        <!-- Header -->
        <header class="bg-gradient-to-r from-blue-800 to-indigo-900 text-white shadow-lg">
            <div class="container mx-auto px-4 py-6">
                <h1 class="text-3xl font-bold">F&G Pathsetter® Life Insurance Explorable Explanation</h1>
                <p class="text-blue-200 mt-2">Interactive Simulation of Flexible Premium Adjustable Death Benefit Universal Life Insurance</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8">
            <!-- Introduction Section -->
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Understanding Your Life Insurance Policy</h2>
                <p class="text-gray-600 mb-4">
                    This interactive simulation helps you explore how the F&G Pathsetter® Universal Life Insurance policy works. 
                    Adjust parameters below to see how they affect your policy's performance over time.
                </p>
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                    <p class="text-blue-800">
                        <i class="fas fa-lightbulb mr-2"></i>
                        <strong>Key Question:</strong> How might different interest rate scenarios affect your policy's cash value accumulation and death benefit over time?
                    </p>
                </div>
            </section>

            <!-- Tabs Navigation -->
            <div class="flex flex-wrap border-b border-gray-200 mb-6">
                <button class="tab-btn px-4 py-2 font-medium text-blue-600 border-b-2 border-blue-600" data-tab="overview">
                    Overview
                </button>
                <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-blue-600" data-tab="parameters">
                    Policy Parameters
                </button>
                <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-blue-600" data-tab="interest-options">
                    Interest Options
                </button>
                <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-blue-600" data-tab="projections">
                    Value Projections
                </button>
                <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-blue-600" data-tab="riders">
                    Living Benefits
                </button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Overview Tab -->
                <div id="overview" class="tab-pane">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Policy Snapshot</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Product:</span>
                                    <span class="font-medium">F&G Pathsetter®</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Policy Type:</span>
                                    <span class="font-medium">Universal Life Insurance</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Face Amount:</span>
                                    <span class="font-medium" id="face-amount-display">$296,613</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Death Benefit Option:</span>
                                    <span class="font-medium">B (Increasing)</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Initial Premium:</span>
                                    <span class="font-medium" id="initial-premium-display">$24,999.96</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Insured:</span>
                                    <span class="font-medium">Male, Age 61, Nontobacco</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Key Features</h3>
                            <ul class="space-y-2">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Flexible premium payments</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Adjustable death benefit</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Index-linked interest crediting</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Tax-deferred cash value accumulation</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Living benefits riders</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-6 mt-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">How It Works</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="text-center p-4 bg-blue-50 rounded-lg">
                                <i class="fas fa-money-bill-wave text-3xl text-blue-600 mb-2"></i>
                                <h4 class="font-bold text-gray-800">Premium Payments</h4>
                                <p class="text-sm text-gray-600 mt-1">Flexible premiums fund your policy and cash value</p>
                            </div>
                            <div class="text-center p-4 bg-green-50 rounded-lg">
                                <i class="fas fa-chart-line text-3xl text-green-600 mb-2"></i>
                                <h4 class="font-bold text-gray-800">Interest Crediting</h4>
                                <p class="text-sm text-gray-600 mt-1">Index-linked interest grows your cash value</p>
                            </div>
                            <div class="text-center p-4 bg-purple-50 rounded-lg">
                                <i class="fas fa-shield-alt text-3xl text-purple-600 mb-2"></i>
                                <h4 class="font-bold text-gray-800">Death Benefit</h4>
                                <p class="text-sm text-gray-600 mt-1">Tax-free benefit for your beneficiaries</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Policy Parameters Tab -->
                <div id="parameters" class="tab-pane hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-6">Adjust Policy Parameters</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">
                                    Face Amount: $<span id="face-amount-value">296,613</span>
                                </label>
                                <input type="range" id="face-amount" min="100000" max="1000000" step="10000" value="296613" 
                                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <div class="flex justify-between text-xs text-gray-500 mt-1">
                                    <span>$100K</span>
                                    <span>$1M</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">
                                    Initial Premium: $<span id="initial-premium-value">24,999.96</span>
                                </label>
                                <input type="range" id="initial-premium" min="5000" max="100000" step="1000" value="24999.96" 
                                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <div class="flex justify-between text-xs text-gray-500 mt-1">
                                    <span>$5K</span>
                                    <span>$100K</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">
                                    Annual Premium: $<span id="annual-premium-value">25,000</span>
                                </label>
                                <input type="range" id="annual-premium" min="0" max="50000" step="1000" value="25000" 
                                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <div class="flex justify-between text-xs text-gray-500 mt-1">
                                    <span>$0</span>
                                    <span>$50K</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">
                                    Interest Rate Scenario
                                </label>
                                <select id="interest-scenario" class="w-full p-2 border border-gray-300 rounded-lg">
                                    <option value="guaranteed">Guaranteed (0.25%)</option>
                                    <option value="midpoint">Midpoint (3.65%)</option>
                                    <option value="alternate">Alternate (4.75%)</option>
                                    <option value="current" selected>Current (7.05%)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-gray-50 rounded-lg">
                            <h4 class="font-bold text-gray-800 mb-2">Parameter Impact</h4>
                            <p class="text-gray-600 text-sm">
                                Adjust the parameters above to see how they affect your policy's projected values. 
                                Higher premiums generally lead to faster cash value accumulation, while higher interest rates 
                                can significantly impact long-term growth.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Interest Options Tab -->
                <div id="interest-options" class="tab-pane hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-6">Interest Crediting Options</h3>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Allocation</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Current Rate</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">CAP/Spread</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Max Rate</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">S&P 500 Annual Point to Point 100% PAR</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7.05%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12.00% CAP</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7.05%</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">S&P 500 Annual Point to Point 140% PAR</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6.46%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">9.50% CAP</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6.46%</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">S&P 500 Monthly Point to Point</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6.34%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3.50% CAP</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6.34%</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Fixed Account</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4.75%</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">N/A</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4.75%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-bold text-gray-800 mb-2">How Interest Crediting Works</h4>
                            <p class="text-gray-600 text-sm">
                                Interest is credited daily at a guaranteed minimum rate of 0.25%. Additional interest may be credited 
                                annually based on the performance of the selected index option, subject to caps, participation rates, 
                                and spreads. The actual interest credited depends on market performance and the specific option selected.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Projections Tab -->
                <div id="projections" class="tab-pane hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-6">Policy Value Projections</h3>
                        
                        <div class="mb-6">
                            <div class="flex flex-wrap gap-2">
                                <button class="projection-btn px-4 py-2 bg-blue-600 text-white rounded-lg" data-projection="account-value">
                                    Account Value
                                </button>
                                <button class="projection-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300" data-projection="surrender-value">
                                    Surrender Value
                                </button>
                                <button class="projection-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300" data-projection="death-benefit">
                                    Death Benefit
                                </button>
                            </div>
                        </div>
                        
                        <div class="chart-container" style="min-height: 400px; max-height: 500px; margin-bottom: 1rem;">
                            <canvas id="projectionChart"></canvas>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                            <div class="bg-blue-50 p-4 rounded-lg text-center">
                                <h4 class="font-bold text-gray-800">Year 10</h4>
                                <p class="text-2xl font-bold text-blue-600" id="year10-value">$297,406</p>
                                <p class="text-sm text-gray-600">Account Value</p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg text-center">
                                <h4 class="font-bold text-gray-800">Year 20</h4>
                                <p class="text-2xl font-bold text-green-600" id="year20-value">$847,924</p>
                                <p class="text-sm text-gray-600">Account Value</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg text-center">
                                <h4 class="font-bold text-gray-800">Age 70</h4>
                                <p class="text-2xl font-bold text-purple-600" id="age70-value">$261,037</p>
                                <p class="text-sm text-gray-600">Surrender Value</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Riders Tab -->
                <div id="riders" class="tab-pane hidden">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-6">Living Benefits & Riders</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="border border-gray-200 rounded-lg p-4">
                                <h4 class="font-bold text-gray-800 mb-2 flex items-center">
                                    <i class="fas fa-heartbeat text-red-500 mr-2"></i>
                                    Critical Illness Rider
                                </h4>
                                <p class="text-gray-600 text-sm mb-3">
                                    Access to death benefit if diagnosed with covered critical illnesses:
                                </p>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Heart attack</li>
                                    <li>• Stroke</li>
                                    <li>• Major organ transplant</li>
                                    <li>• Paralysis</li>
                                    <li>• ALS diagnosis</li>
                                    <li>• And more...</li>
                                </ul>
                                <div class="mt-3 p-2 bg-red-50 rounded">
                                    <p class="text-sm font-medium">Available at Age 70: <span class="text-red-600">$261,037</span></p>
                                </div>
                            </div>
                            
                            <div class="border border-gray-200 rounded-lg p-4">
                                <h4 class="font-bold text-gray-800 mb-2 flex items-center">
                                    <i class="fas fa-procedures text-blue-500 mr-2"></i>
                                    Chronic Illness Rider
                                </h4>
                                <p class="text-gray-600 text-sm mb-3">
                                    Access up to 25% of death benefit if certified with qualifying chronic illness:
                                </p>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Requires certification by licensed healthcare practitioner</li>
                                    <li>• Available annually upon continued qualification</li>
                                    <li>• Maximum acceleration: 100% of death benefit or $1,000,000</li>
                                </ul>
                                <div class="mt-3 p-2 bg-blue-50 rounded">
                                    <p class="text-sm font-medium">Available at Age 70: <span class="text-blue-600">$98,006</span></p>
                                </div>
                            </div>
                            
                            <div class="border border-gray-200 rounded-lg p-4">
                                <h4 class="font-bold text-gray-800 mb-2 flex items-center">
                                    <i class="fas fa-hourglass-half text-purple-500 mr-2"></i>
                                    Terminal Illness Rider
                                </h4>
                                <p class="text-gray-600 text-sm mb-3">
                                    Access to death benefit if diagnosed with terminal illness:
                                </p>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Doctor certification of 12 months or less life expectancy</li>
                                    <li>• Accelerated amount discounted with interest</li>
                                    <li>• Policy charges and processing fee apply</li>
                                </ul>
                                <div class="mt-3 p-2 bg-purple-50 rounded">
                                    <p class="text-sm font-medium">Available at Age 70: <span class="text-purple-600">$508,434</span></p>
                                </div>
                            </div>
                            
                            <div class="border border-gray-200 rounded-lg p-4">
                                <h4 class="font-bold text-gray-800 mb-2 flex items-center">
                                    <i class="fas fa-shield-alt text-green-500 mr-2"></i>
                                    Overloan Protection Rider
                                </h4>
                                <p class="text-gray-600 text-sm mb-3">
                                    Prevents policy lapse due to outstanding loans exceeding surrender value:
                                </p>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• No cost of insurance charge</li>
                                    <li>• One-time use during policy lifetime</li>
                                    <li>• One-time administrative fee when exercised</li>
                                    <li>• Certain conditions must be met</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded">
                            <p class="text-yellow-800 text-sm">
                                <i class="fas fa-exclamation-triangle mr-2"></i>
                                <strong>Important:</strong> The use of one benefit may reduce or eliminate other policy and rider benefits. 
                                These values are projections and not guaranteed.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-6 mt-12">
            <div class="container mx-auto px-4 text-center">
                <p class="text-gray-400">
                    This is an educational simulation for illustrative purposes only. Not intended as financial advice. 
                    Policy values are not guaranteed and are subject to change.
                </p>
            </div>
        </footer>
    </div>

    <script>
        // Initialize variables
        let projectionChart = null;
        let currentProjection = 'account-value';
        
        // Policy data based on the document
        const policyData = {
            guaranteed: {
                years: [5, 10, 20, 30],
                accountValue: [99110, 180866, 303346, 232799],
                surrenderValue: [99110, 180866, 303346, 232799],
                deathBenefit: [404709, 449533, 565835, 495288]
            },
            midpoint: {
                years: [5, 10, 20, 30],
                accountValue: [115948, 232244, 509291, 1013977],
                surrenderValue: [115948, 232244, 509291, 1013977],
                deathBenefit: [421547, 500911, 771780, 1316560]
            },
            alternate: {
                years: [5, 10, 20, 30],
                accountValue: [126873, 262059, 644003, 1456486],
                surrenderValue: [126873, 262059, 644003, 1456486],
                deathBenefit: [432472, 530726, 906492, 1718975]
            },
            current: {
                years: [5, 10, 20, 30],
                accountValue: [134694, 297406, 847924, 1622042],
                surrenderValue: [134694, 297406, 847924, 1622042],
                deathBenefit: [440293, 566073, 1110413, 1884531]
            }
        };

        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.getAttribute('data-tab');
                
                // Update button styles
                document.querySelectorAll('.tab-btn').forEach(b => {
                    b.classList.remove('text-blue-600', 'border-b-2', 'border-blue-600');
                    b.classList.add('text-gray-600');
                });
                btn.classList.remove('text-gray-600');
                btn.classList.add('text-blue-600', 'border-b-2', 'border-blue-600');
                
                // Show/hide tab content
                document.querySelectorAll('.tab-pane').forEach(pane => {
                    pane.classList.add('hidden');
                });
                document.getElementById(tabId).classList.remove('hidden');
                
                // Initialize chart if projections tab is selected
                if (tabId === 'projections' && !projectionChart) {
                    initializeChart();
                }
            });
        });

        // Parameter sliders
        document.getElementById('face-amount').addEventListener('input', (e) => {
            document.getElementById('face-amount-value').textContent = parseInt(e.target.value).toLocaleString();
            document.getElementById('face-amount-display').textContent = '$' + parseInt(e.target.value).toLocaleString();
        });

        document.getElementById('initial-premium').addEventListener('input', (e) => {
            document.getElementById('initial-premium-value').textContent = parseFloat(e.target.value).toLocaleString('en-US', {minimumFractionDigits: 2});
            document.getElementById('initial-premium-display').textContent = '$' + parseFloat(e.target.value).toLocaleString('en-US', {minimumFractionDigits: 2});
        });

        document.getElementById('annual-premium').addEventListener('input', (e) => {
            document.getElementById('annual-premium-value').textContent = parseInt(e.target.value).toLocaleString();
        });

        document.getElementById('interest-scenario').addEventListener('change', () => {
            if (projectionChart) {
                updateChart();
            }
        });

        // Projection buttons
        document.querySelectorAll('.projection-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                currentProjection = btn.getAttribute('data-projection');
                
                // Update button styles
                document.querySelectorAll('.projection-btn').forEach(b => {
                    b.classList.remove('bg-blue-600', 'text-white');
                    b.classList.add('bg-gray-200', 'text-gray-700');
                });
                btn.classList.remove('bg-gray-200', 'text-gray-700');
                btn.classList.add('bg-blue-600', 'text-white');
                
                updateChart();
            });
        });

        // Initialize chart
        function initializeChart() {
            const ctx = document.getElementById('projectionChart').getContext('2d');
            
            projectionChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: policyData.current.years,
                    datasets: [{
                        label: 'Current Assumptions (7.05%)',
                        data: policyData.current[currentProjection],
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.1
                    }, {
                        label: 'Alternate Assumptions (4.75%)',
                        data: policyData.alternate[currentProjection],
                        borderColor: 'rgb(16, 185, 129)',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.1
                    }, {
                        label: 'Midpoint Assumptions (3.65%)',
                        data: policyData.midpoint[currentProjection],
                        borderColor: 'rgb(245, 158, 11)',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.1
                    }, {
                        label: 'Guaranteed (0.25%)',
                        data: policyData.guaranteed[currentProjection],
                        borderColor: 'rgb(239, 68, 68)',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Policy Value Projections Over Time'
                        },
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Years'
                            }
                        }
                    }
                }
            });
        }

        // Update chart based on current selection
        function updateChart() {
            if (!projectionChart) return;
            
            const scenario = document.getElementById('interest-scenario').value;
            const datasets = [];
            
            // Show all scenarios for comparison
            datasets.push({
                label: 'Current Assumptions (7.05%)',
                data: policyData.current[currentProjection],
                borderColor: 'rgb(59, 130, 246)',
                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                tension: 0.1
            });
            
            datasets.push({
                label: 'Alternate Assumptions (4.75%)',
                data: policyData.alternate[currentProjection],
                borderColor: 'rgb(16, 185, 129)',
                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                tension: 0.1
            });
            
            datasets.push({
                label: 'Midpoint Assumptions (3.65%)',
                data: policyData.midpoint[currentProjection],
                borderColor: 'rgb(245, 158, 11)',
                backgroundColor: 'rgba(245, 158, 11, 0.1)',
                tension: 0.1
            });
            
            datasets.push({
                label: 'Guaranteed (0.25%)',
                data: policyData.guaranteed[currentProjection],
                borderColor: 'rgb(239, 68, 68)',
                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                tension: 0.1
            });
            
            projectionChart.data.datasets = datasets;
            projectionChart.update();
            
            // Update summary values
            updateSummaryValues();
        }

        // Update summary values
        function updateSummaryValues() {
            const scenario = document.getElementById('interest-scenario').value;
            const data = policyData[scenario];
            
            // Update year 10, 20, and age 70 values
            const year10Index = data.years.indexOf(10);
            const year20Index = data.years.indexOf(20);
            const age70Index = 2; // Approximate index for age 70 (year 9 in data)
            
            if (year10Index !== -1) {
                document.getElementById('year10-value').textContent = '$' + data[currentProjection][year10Index].toLocaleString();
            }
            
            if (year20Index !== -1) {
                document.getElementById('year20-value').textContent = '$' + data[currentProjection][year20Index].toLocaleString();
            }
            
            // Age 70 value (using surrender value for this display)
            if (currentProjection === 'account-value') {
                document.getElementById('age70-value').textContent = '$261,037';
            } else if (currentProjection === 'surrender-value') {
                document.getElementById('age70-value').textContent = '$261,037';
            } else {
                document.getElementById('age70-value').textContent = '$530,266';
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            // Set initial values
            document.getElementById('face-amount-value').textContent = '296,613';
            document.getElementById('initial-premium-value').textContent = '24,999.96';
            document.getElementById('annual-premium-value').textContent = '25,000';
        });
    </script>
<script>window.parent.postMessage({ action: "ready" }, "*"); 
 
window.console = new Proxy(console, {
  get(target, prop) {
    if (['log', 'warn', 'error'].includes(prop)) {
      return new Proxy(target[prop], {
        apply(fn, thisArg, args) {
          fn.apply(thisArg, args);
          window.parent.postMessage({ action: 'console', 
            type: prop, 
            args: args.map((arg) => {
              try {
                return JSON.stringify(arg).replace(/^["']|["']$/g, '');
              } catch (e) {
                return arg;
              }
            }) 
          }, '*');
        }
      });
    }
    return target[prop];
  }
});
</script></body>
</html>
